---
// src/components/ui/Footer.astro
import { ShieldCheck } from 'lucide-astro';
import { TOOLS } from '../../config/tools';

// 1. Extract and sort tools alphabetically
const devTools = TOOLS.filter(t => t.category === 'dev').sort((a,b) => a.title.localeCompare(b.title));
const cssTools = TOOLS.filter(t => t.category === 'css').sort((a,b) => a.title.localeCompare(b.title));
const jsonTools = TOOLS.filter(t => t.category === 'json').sort((a,b) => a.title.localeCompare(b.title));
const dataTools = TOOLS.filter(t => t.category === 'data').sort((a,b) => a.title.localeCompare(b.title));
const aiTools = TOOLS.filter(t => t.category === 'ai').sort((a,b) => a.title.localeCompare(b.title));

// 2. Split the massive "Development" category in half to balance the grid
const devHalf = Math.ceil(devTools.length / 2);
const devPart1 = devTools.slice(0, devHalf);
const devPart2 = devTools.slice(devHalf);
---

<footer class="border-t border-slate-800 bg-[#020617] mt-auto">
  <div class="max-w-7xl mx-auto px-4 py-12 lg:py-16">
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 lg:gap-12 mb-12">

      <div class="col-span-2 md:col-span-3 lg:col-span-2">
        <a href="/" class="flex items-center gap-2 mb-4 group w-fit no-underline">
          <span class="text-2xl font-bold text-white tracking-tight">Syntax<span class="text-blue-500">Snap</span></span>
        </a>
        <p class="text-sm text-slate-400 max-w-sm leading-relaxed mb-8">
          Local-first developer utilities.<br />
          Built for speed, engineered for privacy.
        </p>
        
        <h3 class="text-xs font-bold text-slate-200 uppercase tracking-widest mb-4">SyntaxSnap</h3>
        <div class="flex flex-col gap-3 text-[13px] font-medium text-slate-400">
           <a href="/about" class="hover:text-blue-400 transition-colors w-fit">Our Story</a>
           <a href="/contact" class="hover:text-blue-400 transition-colors w-fit">Contact Support</a>
           <a href="/offline" class="hover:text-blue-400 transition-colors flex items-center gap-2 w-fit">
             Self-Host CLI <span class="text-xs bg-blue-500/20 text-blue-400 border border-blue-500/30 px-1.5 py-0.5 rounded font-bold uppercase">New</span>
           </a>
        </div>
      </div>

      <div class="col-span-1">
        <h3 class="text-xs font-bold text-slate-200 uppercase tracking-widest mb-4">Dev Tools (A-M)</h3>
        <ul class="space-y-2.5 text-[13px] text-slate-400">
          {devPart1.map(t => <li><a href={t.href} class="hover:text-white transition-colors block truncate">{t.title}</a></li>)}
        </ul>
      </div>

      <div class="col-span-1">
        <h3 class="text-xs font-bold text-slate-200 uppercase tracking-widest mb-4">Dev Tools (N-Z)</h3>
        <ul class="space-y-2.5 text-[13px] text-slate-400">
          {devPart2.map(t => <li><a href={t.href} class="hover:text-white transition-colors block truncate">{t.title}</a></li>)}
        </ul>
      </div>

      <div class="col-span-1">
        <h3 class="text-xs font-bold text-slate-200 uppercase tracking-widest mb-4">Design & CSS</h3>
        <ul class="space-y-2.5 text-[13px] text-slate-400 mb-8">
          {cssTools.map(t => <li><a href={t.href} class="hover:text-white transition-colors block truncate">{t.title}</a></li>)}
        </ul>
        
        <h3 class="text-xs font-bold text-slate-200 uppercase tracking-widest mb-4">AI Powered</h3>
        <ul class="space-y-2.5 text-[13px] text-emerald-400/80">
          {aiTools.map(t => <li><a href={t.href} class="hover:text-emerald-300 transition-colors block truncate">{t.title}</a></li>)}
        </ul>
      </div>

      <div class="col-span-1">
        <h3 class="text-xs font-bold text-slate-200 uppercase tracking-widest mb-4">JSON & Schema</h3>
        <ul class="space-y-2.5 text-[13px] text-slate-400 mb-8">
          {jsonTools.map(t => <li><a href={t.href} class="hover:text-white transition-colors block truncate">{t.title}</a></li>)}
        </ul>

        <h3 class="text-xs font-bold text-slate-200 uppercase tracking-widest mb-4">Data Conversion</h3>
        <ul class="space-y-2.5 text-[13px] text-slate-400">
          {dataTools.map(t => <li><a href={t.href} class="hover:text-white transition-colors block truncate">{t.title}</a></li>)}
        </ul>
      </div>

    </div>
    
    <div class="border-t border-slate-800/60 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-slate-400">
        <div class="flex flex-wrap items-center justify-center gap-4">
          <span class="flex items-center gap-1.5"><ShieldCheck class="w-4 h-4 text-emerald-500" /> &copy; {new Date().getFullYear()} SyntaxSnap.</span>
          <span class="hidden md:inline text-slate-700">|</span>
          <a href="/privacy" class="hover:text-slate-300 transition-colors">Privacy Policy</a>
          <span class="hidden md:inline text-slate-700">|</span>
          <a href="/terms" class="hover:text-slate-300 transition-colors">Terms of Service</a>
        </div>
        <p class="flex items-center gap-1.5">
          Built with ❤️ in <span class="text-slate-300 font-medium">Cuddalore</span>
        </p>
    </div>
  </div>
</footer>