---
import Layout from '../../layouts/Layout.astro';
import DiffViewerTool from '../../components/tools/DiffViewer';
import RelatedTools from '../../components/ui/RelatedTools.astro';
import { buildFAQPage } from '../../utils/schema';

const title = "Text Diff Viewer & File Compare Tool | SyntaxSnap";
const description = "Compare text, code, JSON, config files, and API responses locally in your browser. Visualize changes with side-by-side or unified diff view. Zero server uploads — 100% private.";
const slug = "diff-viewer";

const features = [
  "Side-by-side split view and unified diff view",
  "Line-level and word-level comparison",
  "Synced scrolling for split view",
  "Real-time diff statistics (additions/removals)",
  "100% Client-side — zero server uploads",
  "Works offline once loaded"
];

// SEO: FAQPage — de-duplicated (was 7 Qs with 2 near-duplicate pairs, now 5 unique)
const faqSchema = buildFAQPage([
  {
    question: "Is my data sent to a server?",
    answer: "No. SyntaxSnap calculates the diff entirely in your browser using the JavaScript diff library. Your text never leaves your device and is not uploaded anywhere."
  },
  {
    question: "What file types can I compare?",
    answer: "Any plain text format: code (JS, Python, Java, etc.), JSON, YAML, XML, CSV, config files (.env, nginx.conf), logs, API responses, and more. Just paste the content into the text boxes."
  },
  {
    question: "What is the difference between line-level and word-level diff?",
    answer: "Line-level highlights entire lines that changed. Word-level highlights exact character changes within a line — ideal for spotting subtle typos or logic changes in dense files like JSON or YAML."
  },
  {
    question: "Can I compare large files?",
    answer: "Yes. The tool uses debounced, non-blocking diff calculation to handle large text files, configuration files, and production logs smoothly without freezing your browser tab."
  },
  {
    question: "Is my code secure when using the SyntaxSnap Diff Viewer?",
    answer: "Yes. Unlike other online diff tools, SyntaxSnap calculates text differences entirely client-side. Your code, API keys, or sensitive logs never leave your browser and are never transmitted to a server."
  }
]);
---

<Layout title={title} description={description} isTool={true} slug={slug} features={features}>
  <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

  <div class="max-w-6xl mx-auto px-4 sm:px-6">

    <div class="mb-10 pt-8">
      <h1 class="text-4xl font-extrabold text-white mb-4 tracking-tight">
        Diff Viewer
      </h1>
      <p class="text-slate-400 text-lg max-w-2xl">
        Compare code, configs, or API responses.{' '}
        <span class="text-indigo-400">Securely in your browser</span> — no uploads, no tracking.
      </p>
    </div>

    <DiffViewerTool client:idle />

    <div class="mt-20 border-t border-slate-800 pt-16">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-12">

        <div>
          <h2 class="text-xl font-bold text-white mb-4">Why use a local diff tool?</h2>
          <p class="text-slate-400 leading-relaxed mb-4">
            Comparing configuration files, API responses, or large JSON schemas often involves
            <strong class="text-slate-200"> sensitive production data</strong>. Online diff tools
            require you to paste your content into their servers to process it.
          </p>
          <p class="text-slate-400 leading-relaxed mb-4">
            <strong class="text-slate-200">SyntaxSnap</strong> calculates differences directly
            in your browser using client-side JavaScript — your data stays in your device's RAM
            and is never transmitted.
          </p>
          <p class="text-slate-400 leading-relaxed text-sm">
            Perfect for reviewing merge conflicts, checking environment variable changes, or
            auditing config drift between staging and production.
          </p>
        </div>

        <div class="space-y-6">
          <div class="bg-indigo-900/10 border border-indigo-500/20 p-6 rounded-2xl">
            <h3 class="text-lg font-bold text-white mb-3">Common Use Cases</h3>
            <ul class="text-sm text-slate-400 space-y-2">
              <li class="flex items-start gap-2">
                <span class="text-indigo-400 shrink-0">•</span>
                <span><strong class="text-slate-200">Code review:</strong> Compare versions before/after a refactor</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-indigo-400 shrink-0">•</span>
                <span><strong class="text-slate-200">API debugging:</strong> Spot payload changes between requests</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-indigo-400 shrink-0">•</span>
                <span><strong class="text-slate-200">Config audits:</strong> Check .env or nginx.conf drift</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="text-indigo-400 shrink-0">•</span>
                <span><strong class="text-slate-200">Merge conflicts:</strong> Understand what changed in git diffs</span>
              </li>
            </ul>
          </div>
        </div>

      </div>
    </div>

    {/* Visible FAQ Section to match the 7 Schema questions perfectly */}
    <div class="mt-16 pt-12 border-t border-slate-800">
      <h2 class="text-2xl font-bold text-white mb-8">Frequently Asked Questions</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        
        <div>
          <h3 class="font-medium text-slate-200 mb-2">Is my data sent to a server?</h3>
          <p class="text-sm text-slate-400 leading-relaxed">
            No. SyntaxSnap calculates the diff entirely in your browser using the JavaScript diff library. Your text never leaves your device and is not uploaded anywhere.
          </p>
        </div>

        <div>
          <h3 class="font-medium text-slate-200 mb-2">What file types can I compare?</h3>
          <p class="text-sm text-slate-400 leading-relaxed">
            Any plain text format: code (JS, Python, Java, etc.), JSON, YAML, XML, CSV, config files (.env, nginx.conf), logs, API responses, and more. Just paste the content into the text boxes.
          </p>
        </div>

        <div>
          <h3 class="font-medium text-slate-200 mb-2">What is the difference between line-level and word-level diff?</h3>
          <p class="text-sm text-slate-400 leading-relaxed">
            Line-level highlights entire lines that changed. Word-level shows exactly which words within a line were modified — useful for spotting small typos or single-word changes.
          </p>
        </div>

        <div>
          <h3 class="font-medium text-slate-200 mb-2">Can I compare large files?</h3>
          <p class="text-sm text-slate-400 leading-relaxed">
            Yes. The tool uses debounced diff calculation to handle large files smoothly. For extremely large files (10MB+), performance depends on your browser and device specs.
          </p>
        </div>

        <div>
          <h3 class="font-medium text-slate-200 mb-2">Is my code secure when using the SyntaxSnap Diff Viewer?</h3>
          <p class="text-sm text-slate-400 leading-relaxed">
            Yes. Unlike other online diff tools, SyntaxSnap calculates text differences entirely client-side. Your code, API keys, or sensitive logs never leave your browser and are never transmitted to a server.
          </p>
        </div>

        <div>
          <h3 class="font-medium text-slate-200 mb-2">What is the difference between line-level and word-level diffing?</h3>
          <p class="text-sm text-slate-400 leading-relaxed">
            Line-level diffing identifies changed blocks of code, while word-level diffing highlights exact character changes within a line. This is ideal for spotting subtle typos or logic changes in dense files like JSON or YAML.
          </p>
        </div>

        <div>
          <h3 class="font-medium text-slate-200 mb-2">Can I compare large log files or JSON payloads?</h3>
          <p class="text-sm text-slate-400 leading-relaxed">
            Yes. Our tool uses debounced, non-blocking algorithms to compare large text files efficiently. It handles configuration files, ENV variables, and production logs smoothly without freezing your browser tab.
          </p>
        </div>

      </div>
    </div>

    <RelatedTools currentTool="diff-viewer" />

  </div>
</Layout>