---
import Layout from '../../layouts/Layout.astro';
import PydanticConverter from '../../components/tools/PydanticConverter';
import RelatedTools from '../../components/RelatedTools.astro';

const title = "Pydantic to Zod Converter (Offline) | SyntaxSnap";
const description = "Convert FastAPI Pydantic JSON schemas to TypeScript Zod schemas instantly. Supports $defs, enums, unions, constraints and nested models. 100% offline and privacy-safe.";

// Extract features for the Layout
const features = [
  "Converts Pydantic v1 and v2 JSON schemas to Zod",
  "Handles $defs / nested models and $ref references",
  "Supports enums, unions (anyOf/oneOf), allOf inheritance",
  "String, number and array constraint chaining",
  "Local-first processing — data never leaves your browser"
];

// Isolated FAQ Schema (3 Consolidated Questions)
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Is my schema data sent to a server?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "No. SyntaxSnap converts everything directly inside your browser. Your proprietary schemas never leave your device."
      }
    },
    {
      "@type": "Question",
      "name": "How do I export a Pydantic model to Zod?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "First, generate a JSON schema from your Python model using Model.model_json_schema() (Pydantic v2) or Model.schema() (Pydantic v1). Paste that JSON here to instantly get the equivalent TypeScript Zod schema."
      }
    },
    {
      "@type": "Question",
      "name": "Does this support $ref references and nested models?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. The converter resolves '$ref' pointers and handles '$defs' by creating separate named Zod schemas, preserving the relationship between your complex Python models."
      }
    }
  ]
};
---

{/* Pass the features prop to Layout */}
<Layout title={title} description={description} isTool={true} features={features}>
  <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

  <div class="max-w-6xl mx-auto px-4">
    <div class="mb-8 pt-8">
      <h1 class="text-3xl font-extrabold text-white mb-2">
        Pydantic to <span class="text-cyan-400">Zod</span> Converter
      </h1>
      <p class="text-slate-400">
        Paste your <code class="bg-slate-800 px-1 py-0.5 rounded text-sm text-indigo-300">Model.model_json_schema()</code> output below.
        All conversion happens locally — your code never leaves your browser.
      </p>
    </div>

    <PydanticConverter client:idle />

    <div class="mt-16 grid grid-cols-1 md:grid-cols-2 gap-12 border-t border-slate-800 pt-12">

      <div class="bg-slate-900/30 border border-slate-800 rounded-2xl p-8 h-fit">
        <h2 class="text-xl font-bold text-white mb-4">Why use an offline converter?</h2>
        <p class="text-slate-400 leading-relaxed">
          When building apps with FastAPI backends and React or Next.js frontends, keeping
          Pydantic models in sync with Zod validation schemas is critical. SyntaxSnap
          parses your schemas entirely in the browser, so proprietary model structures
          stay private.
        </p>
      </div>

      <div>
        <h2 class="text-xl font-bold text-white mb-6">Frequently Asked Questions</h2>
        
        {/* Visible FAQ Section matching the 3 Schema questions perfectly */}
        <div class="space-y-6">

          <div>
            <h3 class="font-medium text-slate-200 mb-2">Is my schema data sent to a server?</h3>
            <p class="text-sm text-slate-400 leading-relaxed">
              No. SyntaxSnap converts everything directly inside your browser. Your proprietary schemas never leave your device.
            </p>
          </div>

          <div>
            <h3 class="font-medium text-slate-200 mb-2">How do I export a Pydantic model to Zod?</h3>
            <p class="text-sm text-slate-400 leading-relaxed">
              First, generate a JSON schema from your Python model using Model.model_json_schema() (Pydantic v2) or Model.schema() (Pydantic v1). Paste that JSON here to instantly get the equivalent TypeScript Zod schema.
            </p>
          </div>

          <div>
            <h3 class="font-medium text-slate-200 mb-2">Does this support $ref references and nested models?</h3>
            <p class="text-sm text-slate-400 leading-relaxed">
              Yes. The converter resolves '$ref' pointers and handles '$defs' by creating separate named Zod schemas, preserving the relationship between your complex Python models.
            </p>
          </div>

        </div>
      </div>
    </div>

    <RelatedTools currentTool="pydantic-to-zod" />
  </div>
</Layout>